<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
  <!-- animeA -->
  <div id="animeA" style="height: 100px; width: 100px; background-color: #00a"></div>
  
  <!-- animeB -->
  <div>
  <svg width="140" height="140" viewBox="0 0 140 140">
  <g fill="none" fill-rule="evenodd">
    <g fill="currentColor" fill-opacity=".15" transform="translate(0 6)">
    <polygon points="70 0 136.574 48.369 111.145 126.631 28.855 126.631 3.426 48.369"></polygon>
    <polygon points="70 18 119.455 53.931 100.565 112.069 39.435 112.069 20.545 53.931"></polygon>
    <polygon points="70 34.86 101.727 57.911 89.609 95.209 50.391 95.209 38.273 57.911"></polygon>
    <polygon points="70 50.898 84.864 61.697 79.186 79.171 60.814 79.171 55.136 61.697"></polygon>
    </g>
    <polygon
      id="animeB" stroke-width="1" stroke="currentColor"B
      points="70 24 119.574 60.369 100.145 117.631 50.855 101.631 3.426 54.369">
    </polygon>
  </g>
  </svg>
  <button id="animeBPlay">play</button>
  <button id="animeBPause">pause</button>
  <button id="animeBReverse">reverse</button>
  </div>

  <!-- animeC -->
  <svg viewBox="0 0 280 100" width=280 height=100>
    <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="1" class="lines">
      <path class="elc" d="M58 80V50.12C57.7 41.6 51.14 35 43 35a15 15 0 0 0 0 30h7.5v15H43a30 30 0 1 1 0-60c16.42 0 29.5 13.23 30 29.89V80H58z" style="stroke-dashoffset: 0px;" stroke-dasharray="316.85528564453125"></path>
      <path class="elc" d="M73 80V20H58v60h15z" style="stroke-dashoffset: 0px;" stroke-dasharray="150"></path>
      <path class="elc" d="M58 80V49.77C58.5 33.23 71.58 20 88 20a30 30 0 0 1 30 30v30h-15V50a15 15 0 0 0-15-15c-8.14 0-14.7 6.6-15 15.12V80H58zm75 0V20h-15v60h15z" style="stroke-dashoffset: 0px;" stroke-dasharray="441.1739501953125"></path>
      <path class="elc" d="M118 80V49.77C118.5 33.23 131.58 20 148 20a30 30 0 0 1 30 30v30h-15V50a15 15 0 0 0-15-15c-8.14 0-14.7 6.6-15 15.12V80h-15zm-7.5-60a7.5 7.5 0 1 1-7.48 8v-1c.25-3.9 3.5-7 7.48-7z" style="stroke-dashoffset: 0px;" stroke-dasharray="338.3053894042969"></path>
      <path class="elc" d="M133 65a15 15 0 0 1-15-15v-7.5h-15V50a30 30 0 0 0 30 30V65zm30 15V49.77C163.5 33.23 176.58 20 193 20a30 30 0 0 1 30 30v30h-15V50a15 15 0 0 0-15-15c-8.14 0-14.7 6.6-15 15.12V80h-15z" style="stroke-dashoffset: 0px;" stroke-dasharray="406.8699035644531"></path>
      <path class="elc" d="M238 65a15 15 0 0 1 0-30c8.1 0 14.63 6.53 15 15h-15v15h30V49.89C267.5 33.23 254.42 20 238 20a30 30 0 0 0 0 60V65z" style="stroke-dashoffset: 0px;" stroke-dasharray="301.8561706542969"></path>
      <path class="elc" d="M260.48 65a7.5 7.5 0 1 1-7.48 8v-1c.26-3.9 3.5-7 7.48-7z" style="stroke-dashoffset: 0px;" stroke-dasharray="47.128875732421875"></path>
    </g>
  </svg>
  
  <script type="text/javascript" src="../anime-core.js"></script>
  <script type="text/javascript">
    // animeA 相关
    const animeAEle = document.getElementById('animeA')
    const animeA = new animeCore({
      dataProgress: {
        aa: [0, 100, 200, 300],
        color: ['#00a', '#f00']
      },
      delay: 500,
      easing: 'easeInOutQuad',
      loop: true,
      direction: 'alternate',
      callbackMap: {
        update: (target) => {
          animeAEle.style.transform = `translateX(${target.aa}px)`
          animeAEle.style['background-color'] = target.color
        }
      }
    })

    // animeB 相关
    const animeBEle = document.getElementById('animeB')
    const animeB = new animeCore({
      dataProgress: {
        points: [
            '70 24 119.574 60.369 100.145 117.631 50.855 101.631 3.426 54.369',
            '70 41 118.574 59.369 111.145 132.631 60.855 84.631 20.426 60.369',
            '70 6 119.574 60.369 100.145 117.631 39.855 117.631 55.426 68.369',
            '70 57 136.574 54.369 89.145 100.631 28.855 132.631 38.426 64.369',
            '70 24 119.574 60.369 100.145 117.631 50.855 101.631 3.426 54.369'
        ]
      },
      easing: 'easeOutQuad',
      duration: 2000,
      loop: true,
      callbackMap: {
        update: (target) => {
            animeBEle.setAttribute('points', target.points)
        }
      },
      autoPlay: false
    })
    const playBtn = document.getElementById('animeBPlay')
    const pauseBtn = document.getElementById('animeBPause')
    const reverseBtn = document.getElementById('animeBReverse')
    playBtn.addEventListener('click', () => animeB.play())
    pauseBtn.addEventListener('click', () => animeB.pause())
    reverseBtn.addEventListener('click', () => animeB.reverse())

    // animeC 相关
    const elcs = document.getElementsByClassName('elc')
    const length = elcs.length
    for (let i=0; i<length; i++) {
      let elc = elcs[i]
      new animeCore({
        dataProgress: {
          strokeDashoffset: [elc.getTotalLength(), 0]
        },
        easing: 'easeInOutSine',
        duration: 1500,
        delay: i * 250,
        endDelay: (length - i - 1) * 250,
        loop: true,
        direction: 'alternate',
        callbackMap: {
          update: (target) => {
            elc.style['stroke-dashoffset'] = `${target.strokeDashoffset}px`
          }
        }
      })
    }
  </script>
</body>
</html>